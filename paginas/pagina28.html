<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página 28</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="../css/estilos.css">

    <!-- Librerias -->
    <script src="../js/librerias/jquery.min.js"></script>
    <script src="../js/librerias/jquery-ui.min.js"></script>
    <script src="../js/librerias/jquery.ui.touch-punch.min.js"></script>
    <script src="../js/librerias/gsap.min.js"></script>

    <!-- Script de animaciones -->
    <script src="../js/animaciones.js"></script>
    <!-- Scripts posicionar elementos -->
    <script src="../js/redimensionarElementos.js"></script>
    <script src="../js/posicionar.js"></script>

</head>
<style>
    .pointer{
        cursor: pointer;
    }
</style>
<body class="pagina">
    <img class="elementos" id="fondo" src="../img/pagina28/fondo.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="robot" src="../img/pagina28/robot.png" data-posX="0" data-posY="0" alt="">

    <img class="elementos pointer" id="pregunta1" src="../img/pagina28/pregunta1.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta2" src="../img/pagina28/pregunta2.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta3" src="../img/pagina28/pregunta3.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta4" src="../img/pagina28/pregunta4.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta5" src="../img/pagina28/pregunta5.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta6" src="../img/pagina28/pregunta6.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta7" src="../img/pagina28/pregunta7.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta8" src="../img/pagina28/pregunta8.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta9" src="../img/pagina28/pregunta9.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos pointer" id="pregunta10" src="../img/pagina28/pregunta10.png" data-posX="0" data-posY="0" alt="">

    <img class="elementos respuestas1 pointer" id="respuesta1" src="../img/pagina28/respuesta1.png" data-posX="189.876" data-posY="279.909" alt="">
    <img class="elementos respuestas2 pointer" id="respuesta2" src="../img/pagina28/respuesta2.png" data-posX="189.876" data-posY="359.909" alt="">
    <img class="elementos respuestas3 pointer" id="respuesta3" src="../img/pagina28/respuesta3.png" data-posX="189.876" data-posY="319.909" alt="">
    <img class="elementos respuestas4 pointer" id="respuesta4" src="../img/pagina28/respuesta4.png" data-posX="179.876" data-posY="359.909" alt="">
    <img class="elementos respuestas5 pointer" id="respuesta5" src="../img/pagina28/respuesta5.png" data-posX="179.876" data-posY="299.909" alt="">
    <img class="elementos respuestas6 pointer" id="respuesta6" src="../img/pagina28/respuesta6.png" data-posX="189.876" data-posY="279.909" alt="">
    <img class="elementos respuestas7 pointer" id="respuesta7" src="../img/pagina28/respuesta7.png" data-posX="189.876" data-posY="319.909" alt="">
    <img class="elementos respuestas8 pointer" id="respuesta8" src="../img/pagina28/respuesta8.png" data-posX="189.876" data-posY="279.909" alt="">
    <img class="elementos respuestas9 pointer" id="respuesta9" src="../img/pagina28/respuesta9.png" data-posX="189.876" data-posY="279.909" alt="">
    <img class="elementos respuestas10 pointer" id="respuesta10" src="../img/pagina28/respuesta10.png" data-posX="189.876" data-posY="279.909" alt="">

    <img class="elementos" id="paloma1" src="../img/pagina28/paloma1.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma2" src="../img/pagina28/paloma2.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma3" src="../img/pagina28/paloma3.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma4" src="../img/pagina28/paloma4.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma5" src="../img/pagina28/paloma5.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma6" src="../img/pagina28/paloma6.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma7" src="../img/pagina28/paloma7.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma8" src="../img/pagina28/paloma8.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma9" src="../img/pagina28/paloma9.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="paloma10" src="../img/pagina28/paloma10.png" data-posX="0" data-posY="0" alt="">

    <img class="elementos" id="btnValidar" src="../img/pagina28/btnValidar.png" data-posX="253.908" data-posY="431" alt="">

    <img class="elementos" id="positiva" src="../img/pagina28/retroBuena.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="negativa" src="../img/pagina28/retroMala.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="final" src="../img/pagina28/retroFinal.png" data-posX="0" data-posY="0"/>

    <img class="elementos" id="btnReintentar" src="../img/pagina28/btnReintentar.png" data-posX="541" data-posY="446"/>
    <img class="elementos" id="btnReiniciar" src="../img/pagina28/btnReiniciar.png" data-posX="552" data-posY="390"/>

    <p class="elementos" id="promedio"></p>


    <!-- Script de la página -->
    <script>

        // Variable----------------------------------------------------
        let aplicacion = parent;

        const fondo = $('#fondo');
        const robot = $('#robot');

        const pregunta1= $('#pregunta1');
        const pregunta2= $('#pregunta2');
        const pregunta3= $('#pregunta3');
        const pregunta4= $('#pregunta4');
        const pregunta5= $('#pregunta5');
        const pregunta6= $('#pregunta6');
        const pregunta7= $('#pregunta7');
        const pregunta8= $('#pregunta8');
        const pregunta9= $('#pregunta9');
        const pregunta10= $('#pregunta10');

        const respuesta1= $('#respuesta1');
        const respuesta2= $('#respuesta2');
        const respuesta3= $('#respuesta3');
        const respuesta4= $('#respuesta4');
        const respuesta5= $('#respuesta5');
        const respuesta6= $('#respuesta6');
        const respuesta7= $('#respuesta7');
        const respuesta8= $('#respuesta8');
        const respuesta9= $('#respuesta9');
        const respuesta10= $('#respuesta10');

        const paloma1= $('#paloma1');
        const paloma2= $('#paloma2');
        const paloma3= $('#paloma3');
        const paloma4= $('#paloma4');
        const paloma5= $('#paloma5');
        const paloma6= $('#paloma6');
        const paloma7= $('#paloma7');
        const paloma8= $('#paloma8');
        const paloma9= $('#paloma9');
        const paloma10= $('#paloma10');

        const respuestas1 = $('.respuestas1');
        const respuestas2 = $('.respuestas2');
        const respuestas3 = $('.respuestas3');
        const respuestas4 = $('.respuestas4');
        const respuestas5 = $('.respuestas5');
        const respuestas6 = $('.respuestas6');
        const respuestas7 = $('.respuestas7');
        const respuestas8 = $('.respuestas8');
        const respuestas9 = $('.respuestas9');
        const respuestas10 = $('.respuestas10');

        const btnValidar = $('#btnValidar');
        const btnReiniciar = $('#btnReiniciar');
        const btnReintentar = $('#btnReintentar');

        const promedio = $('#promedio');
        const positiva = $('#positiva');
        const negativa = $('#negativa');
        const final = $('#final');

        let aciertos = 0;


        // Audios------------------------------------------------------
        const audio = [
            new Audio('../audios/Pfizer_Documentacion_28_01.mp3'),
            new Audio('../audios/Pfizer_Documentacion_28_02.mp3'),
            new Audio('../audios/Pfizer_Documentacion_28_03.mp3'),
            new Audio('../audios/s_bien.mp3'), //3
            new Audio('../audios/s_mal.mp3'), //4
        ]

        // Al cargarse la página
        $(window).on("load", function(){
            redimensionarElementos();
            aplicacion.desactivarBotonAdelante();
            aplicacion.desactivarBotonAtras();
            aplicacion.cargando(iniciarContenido);
        });

        function iniciarContenido(){
            animacionEntrada(fondo, 'default', 1);
            animacionEntrada(robot, 'izquierda-derecha', 1, 1);
            setTimeout(() => {
                question1();
            }, 1500);
        }


        function question1(){
            animacionEntrada(pregunta1, 'default', 1);
            animacionEntrada(respuesta1, 'default', 1);
        }

        function question2(){
            animacionSalida(pregunta1, 'default', 1);
            animacionSalida(respuesta1, 'default', 1);
            animacionSalida(paloma1, 'default', 1);

            animacionEntrada(pregunta2, 'default', 1, 1);
            animacionEntrada(respuesta2, 'default', 1, 1);
        }

        function question3(){
            animacionSalida(pregunta2, 'default', 1);
            animacionSalida(respuesta2, 'default', 1);
            animacionSalida(paloma2, 'default', 1);

            animacionEntrada(pregunta3, 'default', 1, 1);
            animacionEntrada(respuesta3, 'default', 1, 1);

        }
        function question4(){
            animacionSalida(pregunta3, 'default', 1);
            animacionSalida(respuesta3, 'default', 1);
            animacionSalida(paloma3, 'default', 1);

            animacionEntrada(pregunta4, 'default', 1, 1);
            animacionEntrada(respuesta4, 'default', 1, 1);
        }

        function question5(){
            animacionSalida(pregunta4, 'default', 1);
            animacionSalida(respuesta4, 'default', 1);
            animacionSalida(paloma4, 'default', 1);

            animacionEntrada(pregunta5, 'default', 1, 1);
            animacionEntrada(respuesta5, 'default', 1, 1);
        }

        function question6(){
            animacionSalida(pregunta5, 'default', 1);
            animacionSalida(respuesta5, 'default', 1);
            animacionSalida(paloma5, 'default', 1);

            animacionEntrada(pregunta6, 'default', 1, 1);
            animacionEntrada(respuesta6, 'default', 1, 1);
        }

        function question7(){
            animacionSalida(pregunta6, 'default', 1);
            animacionSalida(respuesta6, 'default', 1);
            animacionSalida(paloma6, 'default', 1);

            animacionEntrada(pregunta7, 'default', 1, 1);
            animacionEntrada(respuesta7, 'default', 1, 1);
        }

        function question8(){
            animacionSalida(pregunta7, 'default', 1);
            animacionSalida(respuesta7, 'default', 1);
            animacionSalida(paloma7, 'default', 1);

            animacionEntrada(pregunta8, 'default', 1, 1);
            animacionEntrada(respuesta8, 'default', 1, 1);
        }

        function question9(){
            animacionSalida(pregunta8, 'default', 1);
            animacionSalida(respuesta8, 'default', 1);
            animacionSalida(paloma8, 'default', 1);

            animacionEntrada(pregunta9, 'default', 1, 1);
            animacionEntrada(respuesta9, 'default', 1, 1);
        }

        function question10(){
            animacionSalida(pregunta9, 'default', 1);
            animacionSalida(respuesta9, 'default', 1);
            animacionSalida(paloma9, 'default', 1);

            animacionEntrada(pregunta10, 'default', 1, 1);
            animacionEntrada(respuesta10, 'default', 1, 1);
        }

        function validar(){
            parpadear(btnValidar)
        }

        function clickReintentar(){
            parpadear(btnReintentar)
        }

        function clickReiniciar(){
            parpadear(btnReiniciar)
        }


        //Evaluacion

        function evaluacion(){
            const calificacion = aciertos * 10;
            const intento = aplicacion.verIntento();

            if(calificacion >= 90 && intento <= 2){
                retroPositiva(calificacion);
            }
            else if(calificacion < 90 && intento == 1){
                aplicacion.siguienteIntento();
                retroNegativa(calificacion);
            }
            else{
                aplicacion.siguienteIntento();
                retroFinal(calificacion);
            } 

            aplicacion.guardarCalificacion(calificacion);
        }

        function retroPositiva(calificacion){
            promedio.html(calificacion);
            promedio.css({
                'fontSize': '32px',
                'color': '#09183A', 
                'top': '300px',
                'left': '600px'
            });

            aplicacion.reproducirAudio(audio[0], finalPagina, 1);
            animacionEntrada(positiva, 'default', 1, 1);
            animacionEntrada(promedio, 'default', 1, 1);
        }

        function retroNegativa(calificacion){
            promedio.html(calificacion);
            promedio.css({
                'fontSize': '32px',
                'color': '#09183A', 
                'top': '280px',
                'left': '630px'
            });

            aplicacion.reproducirAudio(audio[1], clickReintentar, 1);
            animacionEntrada(negativa, 'default', 1, 1);
            animacionEntrada(promedio, 'default', 1, 1);
        }

        function retroFinal(calificacion){
            promedio.html(calificacion);
            promedio.css({
                'fontSize': '32px',
                'color': 'white', 
                'top': '270px',
                'left': '610px'
            });

            aplicacion.reproducirAudio(audio[2], clickReiniciar, 1);
            animacionEntrada(final, 'default', 1, 1);
            animacionEntrada(promedio, 'default', 1, 1);

        }


        function finalPagina(){
            aplicacion.terminaPantalla();
        }


        // Respuestas malas
        pregunta1.click(function(){
            if(pregunta1.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta1.css('cursor', 'default');
                pregunta1.css('cursor', 'default');
                
                setTimeout(() => {
                    question2();
                }, 1500);
            }
        });

        pregunta2.click(function(){
            if(pregunta2.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta2.css('cursor', 'default');
                pregunta2.css('cursor', 'default');
                
            setTimeout(() => {
                    question3();
                }, 1500);
            }
        });

        pregunta3.click(function(){
            if(pregunta3.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta3.css('cursor', 'default');
                pregunta3.css('cursor', 'default');
                
            setTimeout(() => {
                    question4();
                }, 1500);
            }
        });

        pregunta4.click(function(){
            if(pregunta4.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta4.css('cursor', 'default');
                pregunta4.css('cursor', 'default');
                
            setTimeout(() => {
                    question5();
                }, 1500);
            }
        });

        pregunta5.click(function(){
            if(pregunta5.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta5.css('cursor', 'default');
                pregunta5.css('cursor', 'default');
                
            setTimeout(() => {
                    question6();
                }, 1500);
            }
        });

        pregunta6.click(function(){
            if(pregunta6.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta6.css('cursor', 'default');
                pregunta6.css('cursor', 'default');
                
            setTimeout(() => {
                    question7();
                }, 1500);
            }
        });

        pregunta7.click(function(){
            if(pregunta7.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta7.css('cursor', 'default');
                pregunta7.css('cursor', 'default');
                
            setTimeout(() => {
                    question8();
                }, 1500);
            }
        });

        pregunta8.click(function(){
            if(pregunta8.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta8.css('cursor', 'default');
                pregunta8.css('cursor', 'default');
                
            setTimeout(() => {
                    question9();
                }, 1500);
            }
        });

        pregunta9.click(function(){
            if(pregunta9.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta9.css('cursor', 'default');
                pregunta9.css('cursor', 'default');
                
            setTimeout(() => {
                    question10();
                }, 1500);
            }
        });

        pregunta10.click(function(){
            if(pregunta10.css('cursor') == 'pointer'){
                audio[4].play();
                respuesta10.css('cursor', 'default');
                pregunta10.css('cursor', 'default');
                
            setTimeout(() => {
                    validar();
                }, 1500);
            }
        });


        //Respuestas buenas
        respuesta1.click(function(){
            if(respuesta1.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta1.css('cursor', 'default');
                pregunta1.css('cursor', 'default');
                animacionEntrada(paloma1, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question2();
                }, 1500);
            }
        });
        respuesta2.click(function(){
            if(respuesta2.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta2.css('cursor', 'default');
                pregunta2.css('cursor', 'default');
                animacionEntrada(paloma2, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question3();
                }, 1500);
            }
        });
        respuesta3.click(function(){
            if(respuesta3.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta3.css('cursor', 'default');
                pregunta3.css('cursor', 'default');
                animacionEntrada(paloma3, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question4();
                }, 1500);
            }
        });
        respuesta4.click(function(){
            if(respuesta4.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta4.css('cursor', 'default');
                pregunta4.css('cursor', 'default');
                animacionEntrada(paloma4, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question5();
                }, 1500);
            }
        });
        respuesta5.click(function(){
            if(respuesta5.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta5.css('cursor', 'default');
                pregunta5.css('cursor', 'default');
                animacionEntrada(paloma5, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question6();
                }, 1500);
            }
        });
        respuesta6.click(function(){
            if(respuesta6.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta6.css('cursor', 'default');
                pregunta6.css('cursor', 'default');
                animacionEntrada(paloma6, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question7();
                }, 1500);
            }
        });
        respuesta7.click(function(){
            if(respuesta7.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta7.css('cursor', 'default');
                pregunta7.css('cursor', 'default');
                animacionEntrada(paloma7, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question8();
                }, 1500);
            }
        });
        respuesta8.click(function(){
            if(respuesta8.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta8.css('cursor', 'default');
                pregunta8.css('cursor', 'default');
                animacionEntrada(paloma8, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question9();
                }, 1500);
            }
        });
        respuesta9.click(function(){
            if(respuesta9.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta9.css('cursor', 'default');
                pregunta9.css('cursor', 'default');
                animacionEntrada(paloma9, 'default', 1);
                aciertos++;

                setTimeout(() => {
                    question10();
                }, 1500);
            }
        });
        respuesta10.click(function(){
            if(respuesta10.css('cursor') == 'pointer'){
                audio[3].play();
                respuesta10.css('cursor', 'default');
                pregunta10.css('cursor', 'default');
                animacionEntrada(paloma10, 'dfault', 1);
                aciertos++;

                setTimeout(() => {
                    validar();
                }, 1500);
            }
        });


        //Boton para validar respuestas
        btnValidar.click(function(){
            if(btnValidar.css('cursor') == 'pointer'){
                dejarParpadear(btnValidar);
                evaluacion();
            }
        });

        
        btnReintentar.click(function(){
            if(btnReintentar.css('cursor') == 'pointer'){
                dejarParpadear(btnReintentar);
                aplicacion.recargarPagina();
            }
        });

        btnReiniciar.click(function(){
            dejarParpadear(btnReiniciar);
            aplicacion.reiniciarIntentos();
            aplicacion.irPagina(1);
        });

        
 

    </script>
</body>
</html>